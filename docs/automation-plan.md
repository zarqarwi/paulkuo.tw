# ä¸‰å¥—å·¥å…·çµ±ä¸€ç®¡ç·šæ¶æ§‹

**ç‰ˆæœ¬ï¼šv2.0 ï½œ 2026-02-22**
**ç¶­è­·è€…ï¼šPaul Kuo Ã— Claude**

---

## å¾äº‹ä»¶ä¸­å­¸åˆ°çš„ç¶“é©—ï¼ˆ2/22 post-mortemï¼‰

ç™¼ç¾ `paulkuo.tw/` èˆ‡ `paulkuo-astro/` å…©å€‹ç›®éŒ„å„è‡ª clone åŒä¸€å€‹ GitHub repoï¼Œä½†äº’ä¸åŒæ­¥ã€‚60 ç¯‡ç¿»è­¯å­˜åœ¨ A ç›®éŒ„å»ä¸åœ¨ B ç›®éŒ„ï¼Œå·®é»è§¸ç™¼é‡è¤‡ç¿»è­¯ï¼ˆ180 æ¬¡ API callï¼Œ~$20 æµªè²»ï¼‰ã€‚

**æ ¹æœ¬åŸå› ï¼š**
1. åŒä¸€ repo æœ‰å…©å€‹æœ¬åœ° cloneï¼Œæ²’æœ‰ single source of truth
2. ç¿»è­¯è…³æœ¬æ²’æœ‰ idempotent æ©Ÿåˆ¶ï¼ˆä¸æœƒæª¢æŸ¥ã€Œé€™ç¯‡å·²ç¶“ç¿»éä¸”åŸæ–‡æ²’æ”¹ã€ï¼‰
3. Claude è·¨ session åªæŸ¥äº† GitHub æ²’æŸ¥æœ¬åœ° Macï¼Œå°±ä¸‹äº†ã€Œæ²’ç¿»éã€çš„çµè«–

**å·²å®Œæˆä¿®æ­£ï¼š** Phase 0 ç›®éŒ„æ•´ä½µ + translation manifest + Claude pre-flight protocol

---

## ç³»çµ±æ¦‚è¦½

ä¸‰å¥—å·¥å…·ï¼ˆpaulkuo.tw ç¶²ç«™ã€OneUp ç¤¾ç¾¤ç™¼ä½ˆã€å¤šæ¨¡å‹è¾¯è«–å¼•æ“ï¼‰æ•´åˆç‚ºä¸€æ¢è‡ªå‹•åŒ–ç®¡ç·šã€‚è¨­è¨ˆåŸå‰‡ï¼š**è‡ªå‹•åŒ–é‡è¤‡å‹å‹•ï¼Œä¿ç•™å‰µæ„åˆ¤æ–·çš„äººå·¥é—œå¡**ã€‚

```
è¾¯è«–å¼•æ“ï¼ˆæœ¬æ©Ÿï¼‰
    â†“ æ‰‹å‹•é¸æ“‡å€¼å¾—ç™¼ä½ˆçš„è¾¯è«–
debate-to-article.py â†’ ç”¢ç”Ÿæ–‡ç«  .md
    â†“ git push
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ GitHub Actions å…¨è‡ªå‹•                     â”‚
â”‚                                           â”‚
â”‚  translate.yml â†’ æŸ¥ manifest â†’ ç¿»è­¯æ–°/æ”¹  â”‚
â”‚       â†“ commit è§¸ç™¼                       â”‚
â”‚  deploy.yml â†’ build + Cloudflare éƒ¨ç½²     â”‚
â”‚       â†“ æˆåŠŸå¾Œè§¸ç™¼                        â”‚
â”‚  publish-social.yml â†’ ç¤¾ç¾¤ 8 å¹³å°æ’ç¨‹      â”‚
â”‚       â†“                                   â”‚
â”‚  OneUp â†’ X, LI, TH, BS, RD, YT          â”‚
â”‚  ï¼ˆFB, IG éœ€æ‰‹å‹•ï¼‰                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ç¾ç‹€ç¸½è¦½ï¼ˆ2026-02-22ï¼‰

| å·¥å…· | è‡ªå‹•åŒ–ç¨‹åº¦ | ç‹€æ…‹ |
|------|-----------|------|
| paulkuo.tw ç¶²ç«™ | âœ… å…¨è‡ªå‹•ï¼ˆgit push â†’ CI/CDï¼‰ | 62 ç¯‡ Ã— 4 èªç³» |
| ç¿»è­¯ç®¡ç·š | âœ… å…¨è‡ªå‹• + manifest é˜²é‡è¤‡ | translate.yml + manifest |
| ç¤¾ç¾¤ç™¼ä½ˆ | âœ… å·²å»ºç½®ï¼ˆpublish-social.ymlï¼‰ | å¾…ç«¯åˆ°ç«¯æ¸¬è©¦ |
| è¾¯è«–å¼•æ“ | âŒ ç´”æ‰‹å‹• | debate-to-article.py å·²å»º |

### æœ¬åœ°ç›®éŒ„

| ç›®éŒ„ | ç‹€æ…‹ |
|------|------|
| `~/Desktop/01_å°ˆæ¡ˆé€²è¡Œä¸­/paulkuo.tw/` | âœ… å”¯ä¸€å·¥ä½œç›®éŒ„ï¼ˆSSH remoteï¼‰ |
| `~/Desktop/04_æ­¸æª”/paulkuo.tw-backup-20260222/` | ğŸ“¦ æ­¸æª” |
| `~/Desktop/04_æ­¸æª”/paulkuo-content-20260222/` | ğŸ“¦ æ­¸æª”ï¼ˆèˆŠç¿»è­¯å¯¦é©— repoï¼‰ |
| `~/Desktop/04_æ­¸æª”/paulkuo-deploy-20260222/` | ğŸ“¦ æ­¸æª”ï¼ˆèˆŠéœæ…‹ HTML ç‰ˆï¼‰ |

---

## Claude Ã— Paul å”ä½œå®ˆå‰‡

å¾é›™ç›®éŒ„äº‹ä»¶æ­¸ç´å‡ºçš„è·¨ session å”ä½œåŸå‰‡ï¼š

### Pre-flight Protocolï¼ˆæ‰¹æ¬¡æ“ä½œå‰å¿…åšï¼‰

ä»»ä½•å¯èƒ½èŠ±éŒ¢æˆ–èŠ±æ™‚é–“çš„æ‰¹æ¬¡æ“ä½œå‰ï¼ŒClaude å¿…é ˆï¼š

1. **æŸ¥æœ¬åœ° Mac æª”æ¡ˆç³»çµ±** â€” å¯¦éš›å­˜åœ¨çš„æª”æ¡ˆæ•¸é‡å’Œç‹€æ…‹
2. **æŸ¥ GitHub repo** â€” å·² commit/tracked çš„æª”æ¡ˆ
3. **äº¤å‰æ¯”å°** â€” æ‰¾å‡ºå·®ç•°ï¼Œåˆ¤æ–·æ˜¯ã€ŒçœŸçš„ç¼ºã€é‚„æ˜¯ã€Œæœ‰ä½†æ²’åŒæ­¥ã€
4. **å ±å‘Šç¾æ³** â€” å‘Šè¨´ Paul å¯¦éš›ç‹€æ…‹ï¼Œå†ææ–¹æ¡ˆ

âŒ çµ•å°ä¸è¦åªçœ‹ä¸€å€‹ä¾†æºå°±ä¸‹çµè«–ã€‚

### é˜²é‡è¤‡åŸ·è¡ŒåŸå‰‡

æ‰€æœ‰è‡ªå‹•åŒ–è…³æœ¬å¿…é ˆå…·å‚™ idempotent æ©Ÿåˆ¶ï¼š
- ç¿»è­¯ï¼šæŸ¥ `data/translation-manifest.json`ï¼ŒåŸæ–‡æ²’æ”¹å°±è·³é
- ç¤¾ç¾¤ç™¼ä½ˆï¼šæŸ¥ `data/published-slugs.json`ï¼Œå·²ç™¼éå°±è·³é
- éƒ¨ç½²ï¼šCloudflare Pages æœ¬èº« idempotent

### Session Handoff

æ¯æ¬¡ session çµæŸæ™‚ï¼ŒApple Notes äº’å‹•æ—¥èªŒè¨˜éŒ„ï¼š
- **çµæœç‹€æ…‹** â€” ä¾‹å¦‚ã€Œç¿»è­¯å®Œæˆï¼Œen/ja/zh-cn å„ 62 ç¯‡ï¼Œcommit 3d5fa42ã€
- **å¾…è™•ç†é …ç›®** â€” æ˜ç¢ºåˆ—å‡ºä¸‹ä¸€æ­¥
- **å·²çŸ¥é¢¨éšª** â€” ä¾‹å¦‚ã€Œæœ¬åœ°æœ‰ uncommitted changesã€

---

## åŸ·è¡Œéšæ®µ

### Phase 0ï¼šç›®éŒ„æ•´ä½µ + ç¿»è­¯é˜²é‡è¤‡ âœ…

**å®Œæˆæ—¥æœŸï¼š** 2026-02-22

**å·²å®Œæˆï¼š**
- `paulkuo-astro/` æ”¹åç‚º `paulkuo.tw/`ï¼ŒèˆŠç›®éŒ„æ­¸æª”
- `paulkuo-content/`ã€`paulkuo-deploy/` ä¹Ÿä¸€ä½µæ­¸æª”
- å»ºç«‹ `data/translation-manifest.json`ï¼ˆ62 ç¯‡ Ã— 3 èªç³»å®Œæ•´è¨˜éŒ„ï¼‰
- `translate-article.mjs` åŠ å…¥ manifest æª¢æŸ¥ï¼ˆsource hash æ²’è®Š â†’ è·³éï¼‰
- `translate.yml` æ›´æ–°ç‚ºåŒæ™‚ commit manifest
- remote çµ±ä¸€ç‚º SSH (`git@github.com:zarqarwi/paulkuo.tw.git`)

---

### Phase 1ï¼šå¤šèªè·¯ç”±é©—è­‰ âœ…ï¼ˆéƒ¨åˆ†ï¼‰

**æª”æ¡ˆï¼š** `src/i18n.ts`, `src/components/BlogPage.astro`, `src/components/ArticlePage.astro`, å„èªç³» pages

**å·²å®Œæˆï¼š**
- å››èªç³»è·¯ç”±å»ºç«‹ï¼ˆzh-Hant / en / ja / zh-cnï¼‰
- å…±ç”¨å…ƒä»¶ BlogPage + ArticlePage
- èªç³»åˆ‡æ›å™¨
- 62 ç¯‡ç¿»è­¯å…¨éƒ¨åœ¨ repo ä¸­

**å¾…é©—è­‰ï¼š**
- 62 ç¯‡åœ¨æ‰€æœ‰èªç³»éƒ½èƒ½æ­£å¸¸ç€è¦½
- èªç³»åˆ‡æ›å™¨å¯¦éš›é€£çµæ­£ç¢º
- ç¿»è­¯å“è³ªæŠ½æŸ¥

**è·¯ç”±å°ç…§ï¼š**
| èªç³» | æ–‡ç« åˆ—è¡¨ | æ–‡ç« é  |
|------|----------|--------|
| zh-Hant | /blog | /articles/{slug} |
| English | /en/blog | /en/articles/{slug} |
| æ—¥æœ¬èª | /ja/blog | /ja/articles/{slug} |
| ç®€ä½“ä¸­æ–‡ | /zh-cn/blog | /zh-cn/articles/{slug} |

---

### Phase 2ï¼šè¾¯è«–å¼•æ“ â†’ æ–‡ç« è½‰æ› âœ…ï¼ˆè…³æœ¬å·²å»ºï¼Œå¾…æ¸¬è©¦ï¼‰

**æª”æ¡ˆï¼š** `scripts/debate-to-article.py`

**ä½¿ç”¨æ–¹å¼ï¼š**
```bash
cd ~/Desktop/01_å°ˆæ¡ˆé€²è¡Œä¸­/paulkuo.tw

# åˆ—å‡ºè¾¯è«–ç´€éŒ„
python3 scripts/debate-to-article.py --list

# é è¦½ç¬¬ N ç¯‡
python3 scripts/debate-to-article.py -n 7 --dry-run

# æ­£å¼è½‰æ›
python3 scripts/debate-to-article.py -n 1

# push è§¸ç™¼å…¨è‡ªå‹•
git add -A && git commit -m 'feat: æ–‡ç« åç¨±' && git push
```

---

### Phase 3ï¼šç¤¾ç¾¤è‡ªå‹•ç™¼ä½ˆ âœ…ï¼ˆå·²å»ºç½®ï¼Œå¾…ç«¯åˆ°ç«¯æ¸¬è©¦ï¼‰

**æª”æ¡ˆï¼š** `.github/workflows/publish-social.yml`, `scripts/publish-social.mjs`

**è§¸ç™¼æ¢ä»¶ï¼š**
- è‡ªå‹•ï¼šBuild & Deploy workflow æˆåŠŸå¾Œ
- æ‰‹å‹•ï¼šGitHub Actions â†’ Run workflow â†’ å¡«å…¥æ–‡ç« è·¯å¾‘

**å¹³å°é…ç½®ï¼š**
| å¹³å° | æ’ç¨‹æ–¹å¼ | å­—æ•¸é™åˆ¶ |
|------|----------|----------|
| X (Twitter) | è‡ªå‹• | 280 |
| LinkedIn | è‡ªå‹• | 3000 |
| Threads | è‡ªå‹• | 500 |
| Bluesky | è‡ªå‹• | 300 |
| Reddit | è‡ªå‹• | 40000 |
| YouTube | è‡ªå‹• | 5000 |
| Facebook | âš ï¸ æ‰‹å‹• | 10000 |
| Instagram | âš ï¸ æ‰‹å‹• | 2200 |

---

### Phase 4ï¼šæœ¬æ©Ÿæ•´åˆï¼ˆå¾…åšï¼‰

**è¦åŠƒï¼š** Makefile å°è£å¸¸ç”¨æŒ‡ä»¤

```makefile
make debate TOPIC="ä¸»é¡Œ"   # è·‘è¾¯è«–å¼•æ“
make article               # è½‰æ›æœ€æ–°è¾¯è«–ç‚ºæ–‡ç« 
make publish               # git add + commit + push
make status                # ç¿»è­¯ manifest + Actions ç‹€æ…‹
make sync                  # git pullï¼ˆæ‹¿å› CI ç¿»è­¯çµæœï¼‰
make check                 # æ¯”å°æœ¬åœ° vs remote ä¸€è‡´æ€§
```

---

## å®‰å…¨æ©Ÿåˆ¶

### ç¿»è­¯å®‰å…¨
- **manifest é˜²é‡è¤‡**ï¼š`data/translation-manifest.json` è¨˜éŒ„æ¯ç¯‡ source hashï¼ŒåŸæ–‡æ²’æ”¹ä¸é‡ç¿»
- **fallback ä¸Šé™**ï¼šé CI ç’°å¢ƒæœ€å¤šç¿» 5 ç¯‡ï¼ˆ`MAX_FALLBACK = 5`ï¼‰
- **è²»ç”¨è¿½è¹¤**ï¼šæ¯æ¬¡ API call è¨˜éŒ„åˆ° `data/costs.jsonl`

### ç¤¾ç¾¤ç™¼ä½ˆå®‰å…¨
- **æ–°æ–‡ç« é™å®š**ï¼š`git diff --diff-filter=A` åªåµæ¸¬æ–°å¢æª”æ¡ˆï¼Œä¿®æ”¹ä¸è§¸ç™¼
- **dedup**ï¼š`data/published-slugs.json` é˜²é‡è¤‡ç™¼ä½ˆ
- **æ‘˜è¦å­˜æª”**ï¼š`data/social-logs/{slug}-{date}.json` å¯è¿½æº¯
- **é€šçŸ¥ç¢ºèª**ï¼šGitHub Issue è‡ªå‹•å»ºç«‹ï¼Œ1 å°æ™‚å…§å¯åˆ° OneUp å–æ¶ˆ
- **fallback åœ–ç‰‡**ï¼šDALL-E å¤±æ•—æ™‚ç”¨ pillar SVG æ›¿ä»£

### ç‰ˆæœ¬ç®¡ç†å®‰å…¨
- **å–®ä¸€ç›®éŒ„åŸå‰‡**ï¼šåªç¶­è­·ä¸€å€‹æœ¬åœ° cloneï¼Œæœçµ•åŒæ­¥å•é¡Œ
- **manifest = source of truth**ï¼šç¿»è­¯ç‹€æ…‹ä»¥ manifest ç‚ºæº–ï¼Œä¸é ç›®è¦–åˆ¤æ–·

---

## GitHub Secrets æ¸…å–®

| Secret | ç”¨é€” | ç‹€æ…‹ |
|--------|------|------|
| `ANTHROPIC_API_KEY` | Claude ç¿»è­¯ + æ‘˜è¦ | âœ… |
| `OPENAI_API_KEY` | DALL-E é…åœ– | âœ… |
| `ONEUP_API_KEY` | ç¤¾ç¾¤æ’ç¨‹ | âœ… |
| `ONEUP_CATEGORY_ID` | OneUp åˆ†é¡ | âœ… |
| `FREEIMAGE_API_KEY` | åœ–åºŠä¸Šå‚³ | âœ… |
| `CLOUDFLARE_API_TOKEN` | ç¶²ç«™éƒ¨ç½² | âœ… |
| `CLOUDFLARE_ACCOUNT_ID` | ç¶²ç«™éƒ¨ç½² | âœ… |
| `GOOGLE_SERVICE_ACCOUNT_B64` | ç¤¾ç¾¤ feed | âœ… |
| `SLACK_WEBHOOK_URL` | é€šçŸ¥ | â³ å¾…è¨­å®š |

---

## æª”æ¡ˆç´¢å¼•

```
paulkuo.tw/
â”œâ”€â”€ .github/workflows/
â”‚   â”œâ”€â”€ deploy.yml              # build + Cloudflare Pages éƒ¨ç½²
â”‚   â”œâ”€â”€ translate.yml           # è‡ªå‹•ç¿»è­¯ en/ja/zh-cnï¼ˆå« manifestï¼‰
â”‚   â””â”€â”€ publish-social.yml      # ç¤¾ç¾¤è‡ªå‹•ç™¼ä½ˆ
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ debate-to-article.py    # è¾¯è«– â†’ æ–‡ç« è½‰æ›å™¨ï¼ˆæœ¬æ©Ÿï¼‰
â”‚   â”œâ”€â”€ publish-social.mjs      # ç¤¾ç¾¤ç™¼ä½ˆé‚è¼¯ï¼ˆCI ç”¨ï¼‰
â”‚   â”œâ”€â”€ translate-article.mjs   # ç¿»è­¯é‚è¼¯ + manifest æª¢æŸ¥ï¼ˆCI ç”¨ï¼‰
â”‚   â”œâ”€â”€ cost-tracker.mjs        # è²»ç”¨è¿½è¹¤å…±ç”¨æ¨¡çµ„
â”‚   â””â”€â”€ platform-config.mjs     # å¹³å° ID çµ±ä¸€è¨­å®š
â”œâ”€â”€ data/
â”‚   â”œâ”€â”€ translation-manifest.json  # ç¿»è­¯ç‹€æ…‹è¨˜éŒ„ï¼ˆé˜²é‡è¤‡ï¼‰
â”‚   â”œâ”€â”€ costs.jsonl             # API è²»ç”¨è¨˜éŒ„
â”‚   â”œâ”€â”€ published-slugs.json    # å·²ç™¼ä½ˆæ–‡ç« è¨˜éŒ„ï¼ˆé˜² dedupï¼‰
â”‚   â””â”€â”€ social-logs/            # ç¤¾ç¾¤æ‘˜è¦å­˜æª”
â”œâ”€â”€ src/content/articles/
â”‚   â”œâ”€â”€ *.md                    # ç¹é«”ä¸­æ–‡åŸæ–‡ï¼ˆ62 ç¯‡ï¼‰
â”‚   â”œâ”€â”€ en/*.md                 # è‹±æ–‡ç¿»è­¯ï¼ˆ62 ç¯‡ï¼‰
â”‚   â”œâ”€â”€ ja/*.md                 # æ—¥æ–‡ç¿»è­¯ï¼ˆ62 ç¯‡ï¼‰
â”‚   â””â”€â”€ zh-cn/*.md              # ç°¡é«”ç¿»è­¯ï¼ˆ62 ç¯‡ï¼‰
â”œâ”€â”€ tools/
â”‚   â””â”€â”€ cost-dashboard.html     # æœ¬æ©Ÿç¨ç«‹ç‰ˆ Dashboard
â””â”€â”€ docs/
    â””â”€â”€ automation-plan.md      # æœ¬æ–‡ä»¶
```

---

## é¢¨éšªèˆ‡ç·©è§£

| é¢¨éšª | ç·©è§£æ–¹å¼ |
|------|---------|
| ç¿»è­¯é‡è¤‡åŸ·è¡Œ | âœ… manifest é˜²é‡è¤‡ + MAX_FALLBACK=5 |
| æœ¬åœ°/remote ä¸åŒæ­¥ | âœ… å–®ä¸€ç›®éŒ„ + Phase 4 çš„ `make check` |
| è·¨ session ç‹€æ…‹éºå¤± | âœ… Apple Notes æ—¥èªŒè¨˜éŒ„çµæœç‹€æ…‹ |
| OneUp API é™æµ | æ’ç¨‹é–“éš”éŒ¯é–‹ 5 åˆ†é˜ |
| GitHub Actions é¡åº¦ | 2000 åˆ†é˜/æœˆï¼Œç›®å‰ç”¨é‡ <20% |
| API è²»ç”¨ | æ¯ç¯‡å…¨æµç¨‹ç´„ NT$15-20ï¼Œcosts.jsonl è¿½è¹¤ |

---

## ä¸åšçš„äº‹

| é …ç›® | åŸå›  |
|------|------|
| è¾¯è«–å¼•æ“æ¬åˆ°é›²ç«¯ | å››å€‹ LLM API åŒæ™‚è·‘ï¼Œæœ¬æ©Ÿæ§åˆ¶æ›´éˆæ´» |
| å…¨è‡ªå‹•è¾¯è«–â†’ç™¼ä½ˆ | Paul éœ€è¦åˆ¤æ–·å“ªäº›å€¼å¾—ç™¼ä½ˆ |
| å»¢é™¤ Google Sheets æ’ç¨‹ | æ‰¹æ¬¡åŠ å·¥ç´ æèµ° Sheets æ›´ç›´è¦º |
| å³æ™‚ç™¼ä½ˆï¼ˆä¸ç¶“æ’ç¨‹ï¼‰ | æ’ç¨‹æœ‰ç·©è¡æ™‚é–“å¯æœ€å¾Œæª¢æŸ¥ |
| è‡ªå‹• git pull cron | å®¹æ˜“è£½é€  merge conflict |

---

## è®Šæ›´ç´€éŒ„

| ç‰ˆæœ¬ | æ—¥æœŸ | è®Šæ›´ |
|------|------|------|
| v1.0 | 2026-02-21 | Phase 1-3 å®Œæˆï¼ŒåŸºç¤ç®¡ç·šå»ºç«‹ |
| v1.1 | 2026-02-21 | å®‰å…¨æ©Ÿåˆ¶ï¼šä¿®å¾©èˆŠæ–‡è§¸ç™¼ã€ç¿»è­¯ä¸Šé™ã€dedupã€æ‘˜è¦å­˜æª” |
| v1.2 | 2026-02-21 | GitHub Issue é€šçŸ¥ã€fallback åœ–ç‰‡ã€PLATFORM_IDS çµ±ä¸€ |
| v1.3 | 2026-02-21 | API è²»ç”¨è¿½è¹¤ç³»çµ± + /dashboard å„€è¡¨æ¿ |
| v2.0 | 2026-02-22 | Phase 0 å®Œæˆï¼ˆç›®éŒ„æ•´ä½µ + manifestï¼‰ï¼›Claude å”ä½œå®ˆå‰‡ï¼ˆpre-flight / idempotent / session handoffï¼‰ï¼›post-mortem ç¶“é©—è¨˜éŒ„ |
