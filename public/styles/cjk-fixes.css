/* ==========================================================================
   CJK Typography Fixes — Override global.css defaults
   Gemini UI/UX audit: paragraph spacing & text-justify improvements
   ========================================================================== */

/* --- 1. CJK Paragraph Spacing ---
   Increase paragraph spacing for Chinese/Japanese content.
   Original: zh-Hant/zh-Hans 0.5em, ja 0.7em → All unified to 1em
   Better visual breathing room for CJK text blocks.
   -------------------------------------------------------- */
html[lang="zh-Hant"] .article-body p,
html[lang="zh-Hans"] .article-body p,
html[lang="ja"] .article-body p {
  margin-bottom: 1em;
}

/* --- 2. Text Justify for Card Excerpts & Feed ---
   Apply inter-ideograph justification to CJK content
   in card excerpts and social feed items.
   .article-body already has text-justify in global.css.
   -------------------------------------------------------- */
html[lang="zh-Hant"] .content-card p,
html[lang="zh-Hant"] .card-excerpt,
html[lang="zh-Hant"] .feed-item p,
html[lang="zh-Hant"] .feed-excerpt p,
html[lang="zh-Hans"] .content-card p,
html[lang="zh-Hans"] .card-excerpt,
html[lang="zh-Hans"] .feed-item p,
html[lang="zh-Hans"] .feed-excerpt p,
html[lang="ja"] .content-card p,
html[lang="ja"] .card-excerpt,
html[lang="ja"] .feed-item p,
html[lang="ja"] .feed-excerpt p {
  text-align: justify;
  text-justify: inter-ideograph;
}

/* --- 3. Article Wrapper Grid Fix ---
   Preserve CSS Grid layout when <article> wraps card links.
   display:contents makes the wrapper invisible to grid.
   -------------------------------------------------------- */
.content-grid > article {
  display: contents;
}

/* --- 4. Japanese Proportional Alternate Widths ---
   Enable "palt" for more natural Japanese typesetting.
   Adjusts kana/punctuation to proportional width instead of
   fixed full-width, improving readability in mixed content.
   -------------------------------------------------------- */
html[lang="ja"] .article-body,
html[lang="ja"] .content-card,
html[lang="ja"] .feed-excerpt {
  font-feature-settings: "palt";
}
